var t,e;t=this,e=function(){"use strict";return class{constructor(){this.ERROR_MISSING_CALLBACK="Callback function is missing!",this._slice=Array.prototype.slice,this._listeners=[],this._dispatchCount=0}_sort(t){t.sort((function(t,e){return t=t.p,(e=e.p)<t?1:e>t?-1:0}))}add(t,e,i,s){if(!t)throw this.ERROR_MISSING_CALLBACK;i=i||0;let n,l,r,o=this._listeners,c=o.length;for(;c--;)if(n=o[c],n.f===t&&n.c===e)return!1;"function"==typeof i&&(l=i,i=s,r=4),o.unshift({f:t,c:e,p:i,r:l||t,a:this._slice.call(arguments,r||3),j:0}),this._sort(o)}addOnce(t,e,i,s){if(!t)throw this.ERROR_MISSING_CALLBACK;let n=this;1===(s=this._slice.call(arguments,0)).length&&s.push(void 0),s.splice(2,0,(function(){return n.remove.call(n,t,e),t.apply(e,n._slice.call(arguments,0))})),this.add.apply(n,s)}remove(t,e){if(!t)return this._listeners.length=0,!0;let i,s=this._listeners,n=s.length;for(;n--;)if(i=s[n],i.f===t&&(!e||i.c===e))return i.j=0,s.splice(n,1),!0;return!1}dispatch(t){t=this._slice.call(arguments,0),this._dispatchCount+=1;let e,i,s=this._dispatchCount,n=this._listeners,l=n.length;for(;l--;)if(e=n[l],e&&e.j<s&&(e.j=s,!1===e.r.apply(e.c,e.a.concat(t)))){i=e;break}for(n=this._listeners,l=n.length;l--;)n[l].j=0;return i}}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self)["min-signal"]=e();
